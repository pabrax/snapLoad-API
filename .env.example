# =====================================================
# SnapLoad API - Environment Configuration
# =====================================================

# --- Server Configuration ---
# Host del servidor (default: 0.0.0.0 para escuchar en todas las interfaces)
HOST=0.0.0.0

# Puerto del servidor (default: 9020 para desarrollo local)
# En Docker se usa 8000 internamente y se mapea a 9020 en el host
PORT=9020

# Habilitar hot-reload en desarrollo
# true = modo desarrollo con recarga automática
# false = modo producción
RELOAD=true

# Número de workers (solo en producción, ignorado si RELOAD=true)
# Recomendado: número de CPUs * 2 + 1
WORKERS=1

# --- Cleanup Configuration ---
# Tiempo de retención de archivos (en horas)
# Recomendado: 3-6 horas para servidores con recursos limitados
RETENTION_HOURS=3

# Tiempo de retención de archivos temporales (en horas)
TEMP_RETENTION_HOURS=0.5

# Habilitar limpieza automática programada
CLEANUP_SCHEDULE_ENABLED=true

# Cron para limpieza general (cada hora por defecto)
# Formato: "minuto hora día mes día_semana"
# Para testing: "*/5 * * * *" (cada 5 minutos)
CLEANUP_CRON="0 * * * *"

# Cron para limpieza de temporales (cada 2 horas por defecto)
# Para testing: "*/2 * * * *" (cada 2 minutos)
TEMP_CLEANUP_CRON="0 */2 * * *"

# Habilitar endpoints admin (solo desarrollo/testing)
# En producción debe estar en false
ENABLE_ADMIN_ENDPOINTS=false

# Nivel de logging para limpieza (DEBUG, INFO, WARNING, ERROR)
CLEANUP_LOG_LEVEL=INFO

# Retención de logs de limpieza (en días)
CLEANUP_LOG_RETENTION_DAYS=7

# Modo dry-run (solo simula, no elimina)
CLEANUP_DRY_RUN=false

# =====================================================
# Ejemplos de configuración:
# =====================================================

# Testing/Desarrollo (limpieza cada 5 minutos):
# RETENTION_HOURS=0.08
# CLEANUP_CRON="*/5 * * * *"
# ENABLE_ADMIN_ENDPOINTS=true
# CLEANUP_DRY_RUN=true

# Producción recomendada (3 horas, limpieza cada hora):
# RETENTION_HOURS=3
# CLEANUP_CRON="0 * * * *"
# ENABLE_ADMIN_ENDPOINTS=false
# CLEANUP_DRY_RUN=false

# Producción con más espacio (24 horas, limpieza cada 6 horas):
# RETENTION_HOURS=24
# CLEANUP_CRON="0 */6 * * *"
# ENABLE_ADMIN_ENDPOINTS=false
# CLEANUP_DRY_RUN=false

# Testing (retención corta para pruebas):
# RETENTION_HOURS=0.5
# TEMP_RETENTION_HOURS=0.1
# ENABLE_ADMIN_ENDPOINTS=true
